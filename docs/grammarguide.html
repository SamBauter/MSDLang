<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSDScript: Grammar Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MSDScript
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A simple scripting language for evaluating expressions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('grammarguide.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Grammar Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Section Description</h1>
<p>The following section is an attempt to describe the supported grammar of the MSDScript language with examples. This guide should be at least scanned before the attempting to dive into the <a class="el" href="userguide.html">User guide</a> for running it in the terminal. The results listed are the output from interpreting the expression.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
A Note About WhiteSpace</h2>
<p>MSDLang consumes white space in most cases which allows for flexibility and readability. The main exceptions are keywords such as <code>_true _false _let _if _then _else</code> that must have the <code>_</code> directly preceding them without any white space. The following example is incorrect and will cause parsing errors</p>
<blockquote class="doxtable">
<p>Example of disallowed whitespace: <code>_ let x=5 _ in 10</code></p>
<p>Example of allowed whitespace: `_let count = <em>fun(count) _fun(n) _if n == 0 _then 0 _else 1 + count(count)(n + -1) _in count(count)(10)` </em></p>
</blockquote>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md3"></a>
Number Expressions</h2>
<p><em> MSDLang supports interpretation of number integers from -2147483647 to 2147483647.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>-100</code> </p><blockquote class="doxtable">
<p>Result: <code>-100</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md4"></a>
Boolean Expressions</h2>
<p><em> MSDLang supports interpretation of the boolean values <code>_true</code> and <code>_false</code>.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_true</code> </p><blockquote class="doxtable">
<p>Result: <code>_true</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md5"></a>
Variable Expressions</h2>
<p><em> MSDLang supports the evaluation of bound variables that have alphabetic names lower or upper case. Since unbound variables cannot be interpreted we instead can use the opt flag to simplify our unbound variable expression.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>./MSDLangExec --opt</code> </p><blockquote class="doxtable">
<p><code>varName</code> Result: <code>varName</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md6"></a>
Addition Expressions</h2>
<p><em> MSDLang supports the interpretation of the addition of two or more expressions. Note that MSDLang does not support subtraction but does support the addition of negative numbers to accomplish the same goal see below example. The interpretation of addition expressions will proceed occuring to normal order of operations rules as shown in a below example. Note that parenthese can be used to provide flexibilty in order of operations.. These expressions must add to less than <code>INT_MAX</code> or to greater than <code>INT_MIN + 1</code>. Boolean addition is not supported by MSDLang as shown in below example. Variables must be bound in order to interpret to a value as shown below.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>1+2</code> </p><blockquote class="doxtable">
<p>Result: <code>3</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>-15+1</code> </p><blockquote class="doxtable">
<p>Result: <code>-14</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>1+2+5*10</code> </p><blockquote class="doxtable">
<p>Result: <code>53</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>(2+5)*10</code> </p><blockquote class="doxtable">
<p>Result: <code>70</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>2147483647+1</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: Cannot add_to <a class="el" href="class_val.html" title="An Abstract Class representing all the methods each subclass of Expr must implement.">Val</a> because of int Overflow</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_false + 5</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: no adding booleans</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>x + 10</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: free variable: x</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md7"></a>
Multiplication Expressions</h2>
<p><em> MSDLang supports the interpretation of the multiplication of two or more expressions. The interpretation of multiplication expressions will proceed occuring to normal order of operations rules as shown in an below example. These expressions must result in less than <code>INT_MAX</code> or to greater than <code>INT_MIN + 1</code>. Boolean multiplication is not supported by MSDLang as shown in below example. Variables must be bound in order to interpret to a value as shown below.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>5*10</code> </p><blockquote class="doxtable">
<p>Result: <code>50</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>5*-10</code> </p><blockquote class="doxtable">
<p>Result <code>-50</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>(1+2)*10</code> </p><blockquote class="doxtable">
<p>Result: <code>30</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>2147483647*2</code> </p><blockquote class="doxtable">
<p>Result: <code>Cannot mult_with <a class="el" href="class_val.html" title="An Abstract Class representing all the methods each subclass of Expr must implement.">Val</a>, because of int Overflow</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_false * 5</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: no multiplying booleans</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>x * 10</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: free variable: x</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md8"></a>
Comparison Expressions</h2>
<p><em> MSDLang supports the basic comparison operator <code>==</code> for expressions and returns a boolean of either <code>_true</code> or <code>_false</code> if the two expressions can be compared. Comparison of numbers, and booleans and any other expressions is supported. Booleans compared with numbers will always result in false as seen in below example (there are no truthy/falsy values in MSDLang). Comparison of unbound variables cannot be accomplished an will result in a runtime error as shows below.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>1==1</code> </p><blockquote class="doxtable">
<p>Result <code>_true</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_true == _false</code> </p><blockquote class="doxtable">
<p>Result <code>_false</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>1+2+5 * 5 == 15 * 2 + -2</code> </p><blockquote class="doxtable">
<p>Result: <code>_true</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_true == 1</code> </p><blockquote class="doxtable">
<p>Result: <code>_false</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_false == 0</code> </p><blockquote class="doxtable">
<p>Result: <code>_false</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>x==x</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: free variable: x</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md9"></a>
Conditional Expressions</h2>
<p><em> MSD Lang supports a conditional statement of the form: </p><blockquote class="doxtable">
<p><code>_if condition _then trueConsequence _else falseConsequence</code> </p>
</blockquote>
<p></em></p>
<p><em>The condition must be an expression that reduces to a boolean value either <code>_true</code> or <code>_false</code> otherwise exceptions will be thrown as shown below. Again variables must be bound in order for interpretation to proceed.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_if _true _then 1 _else 0</code> </p><blockquote class="doxtable">
<p>Result: <code>1</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_if _false _then 1 _else 0</code> </p><blockquote class="doxtable">
<p>Result: <code>0</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_if 10==10 _then 1 _else 0</code> </p><blockquote class="doxtable">
<p>Result: <code>1</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_if 20==20 _then _true _else _false</code> </p><blockquote class="doxtable">
<p>Result: <code>_true</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<blockquote class="doxtable">
<p>Ex: <code>if 10 _then _true _else _false</code> Result: <code>std::runtime_error: is_true was called on a <a class="el" href="class_num_val.html" title="A Val that represents a single number.">NumVal</a></code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_if x==x _then 1 _else 0</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: free variable: x</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md10"></a>
Let Expressions</h2>
<p><em> MSDLang supports a construct called a let expression that allows assigning values to variables in order to create and Environment. This statement comes is communicated by this form: </p><blockquote class="doxtable">
<p><code>_let varName=rhs_expresion _in body_expression</code> </p>
</blockquote>
<p></em></p>
<p><em>The <code>rhs_expression</code> and <code>body_expression</code> must not contain free variables otherwise exceptions will be thrown. Variables can be bound to any type of expression. If the same variable is assigned a new value in a series of nested lets. The assignment in the deepest nested let will be used for interpretation of all the <code>body_expressions</code> occuring after it.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_let x=5 _ in x+1</code> </p><blockquote class="doxtable">
<p>Result: <code>6</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_let x=_true _in x==_true</code> </p><blockquote class="doxtable">
<p>Result: <code>_true</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: `_let x=5 _in _let x=1+x _in 1+x` </p><blockquote class="doxtable">
<p>Result: <code>7</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: `let x=5 _in _let x=1 _in x+1` </p><blockquote class="doxtable">
<p>Result: <code>2</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: `_let x=5 _in _let y=10 _in y+x` </p><blockquote class="doxtable">
<p>Result: <code>15</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_let y=x _in 1+2</code> </p><blockquote class="doxtable">
<p>Result: <code>std::runtime_error: free variable: x</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md11"></a>
Function Expressions</h2>
<p><em> MSDLang supports a function construct that is communicated in the following form: </p><blockquote class="doxtable">
<p><code>_fun ( formal_argument ) _body_expression</code> </p>
</blockquote>
<p></em></p>
<p><em>The formal argument must be an alphabetic variable. Otherwise an exception will be thrown. During interpretation Function Expressions will return and unreduced version of itself. This is the only expression that can be interpreted while containing free variables without throwing exceptions. Function expressions can only be reduced to Numbers or booleans when combine with a Call Expression.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_fun ( x ) 5</code> </p><blockquote class="doxtable">
<p>Result: <code>_fun ( x ) 5</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_fun ( x ) p + q + r + s</code> </p><blockquote class="doxtable">
<p>Result: <code>_fun ( x ) p + q + r + s</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md12"></a>
Call Expressions</h2>
<p><em> MSDLang supports a call construct that is communicated in the following form: </p><blockquote class="doxtable">
<p><code>function_to_be_called ( actual_argument)</code> </p>
</blockquote>
<p></em></p>
<p><em>Note that the <code>function_to_be_called</code> does indeed need to be a function expression or some expression that reduces to a function expression otherwise a variety of exceptions will be thrown. If the function expression is being both defined and called in a single step then the <code>function_to_be_called</code> must also be parenthesized see first example. However if the function has been defined elsewhere (for example in a let expression) if can be called without parentheses see second example. CallExprs will interpret to numbers, booleans, or functions. Again only FunExprs can be successfully interpreted with free variables.</em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>(_fun (x) x+5) (5)</code> Result: <code>10</code> </p>
</blockquote>
<p></em></p>
<p><em></p><blockquote class="doxtable">
<p>Ex: <code>_let f = _fun (x) x+5 _in f(5)</code> </p><blockquote class="doxtable">
<p>Result: <code>10</code> </p>
</blockquote>
</blockquote>
<p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md13"></a>
Recursive Calls</h2>
<p><em> With the given expression types you can construct recursive Call Expressions. Below is an example of a function that recursively calculates the factorial of 5. Examples requiring much larger amount of recursion are good candidates for running in <code>--step</code> mode which is mentioned in the <a class="el" href="userguide.html">User guide</a>. </p><blockquote class="doxtable">
<p>Ex: <br  />
 `_let factrl = _fun (factrl) _fun (x) _if x == 1 _then 1 _else x * factrl(factrl)(x+ -1) _in _let factorial = factrl(factrl) _in factorial(5)` </p><blockquote class="doxtable">
<p>Result: <code>120</code> </p>
</blockquote>
</blockquote>
<p></em></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
